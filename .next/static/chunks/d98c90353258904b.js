(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95468,e=>{"use strict";let t=(0,e.i(75254).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},10708,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(48425),r=s.forwardRef((e,s)=>(0,t.jsx)(a.Primitive.label,{...e,ref:s,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));r.displayName="Label";var l=e.i(47163);function i({className:e,...s}){return(0,t.jsx)(r,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...s})}e.s(["Label",()=>i],10708)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],27612)},33525,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},94179,e=>{"use strict";var t=e.i(43476),s=e.i(91918),a=e.i(25913),r=e.i(47163);let l=(0,a.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:a,asChild:i=!1,...n}){let c=i?s.Slot:"span";return(0,t.jsx)(c,{"data-slot":"badge",className:(0,r.cn)(l({variant:a}),e),...n})}e.s(["Badge",()=>i])},47627,e=>{"use strict";var t=e.i(43476),s=e.i(47163);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,s.cn)("w-full caption-bottom text-sm",e),...a})})}function r({className:e,...a}){return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,s.cn)("[&_tr]:border-b",e),...a})}function l({className:e,...a}){return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,s.cn)("[&_tr:last-child]:border-0",e),...a})}function i({className:e,...a}){return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,s.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...a})}function n({className:e,...a}){return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,s.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a})}function c({className:e,...a}){return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,s.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a})}e.s(["Table",()=>a,"TableBody",()=>l,"TableCell",()=>c,"TableHead",()=>n,"TableHeader",()=>r,"TableRow",()=>i])},7233,e=>{"use strict";let t=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},92930,e=>{"use strict";let t=(0,e.i(75254).default)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);e.s(["Edit2",()=>t],92930)},19036,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(81140),r=e.i(20783),l=e.i(30030),i=e.i(69340),n=e.i(99682),c=e.i(35804),d=e.i(48425),o="Switch",[h,x]=(0,l.createContextScope)(o),[u,m]=h(o),p=s.forwardRef((e,l)=>{let{__scopeSwitch:n,name:c,checked:o,defaultChecked:h,required:x,disabled:m,value:p="on",onCheckedChange:j,form:b,...v}=e,[y,N]=s.useState(null),w=(0,r.useComposedRefs)(l,e=>N(e)),k=s.useRef(!1),C=!y||b||!!y.closest("form"),[S=!1,T]=(0,i.useControllableState)({prop:o,defaultProp:h,onChange:j});return(0,t.jsxs)(u,{scope:n,checked:S,disabled:m,children:[(0,t.jsx)(d.Primitive.button,{type:"button",role:"switch","aria-checked":S,"aria-required":x,"data-state":f(S),"data-disabled":m?"":void 0,disabled:m,value:p,...v,ref:w,onClick:(0,a.composeEventHandlers)(e.onClick,e=>{T(e=>!e),C&&(k.current=e.isPropagationStopped(),k.current||e.stopPropagation())})}),C&&(0,t.jsx)(g,{control:y,bubbles:!k.current,name:c,value:p,checked:S,required:x,disabled:m,form:b,style:{transform:"translateX(-100%)"}})]})});p.displayName=o;var j="SwitchThumb",b=s.forwardRef((e,s)=>{let{__scopeSwitch:a,...r}=e,l=m(j,a);return(0,t.jsx)(d.Primitive.span,{"data-state":f(l.checked),"data-disabled":l.disabled?"":void 0,...r,ref:s})});b.displayName=j;var g=e=>{let{control:a,checked:r,bubbles:l=!0,...i}=e,d=s.useRef(null),o=(0,n.usePrevious)(r),h=(0,c.useSize)(a);return s.useEffect(()=>{let e=d.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==r&&t){let s=new Event("click",{bubbles:l});t.call(e,r),e.dispatchEvent(s)}},[o,r,l]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:d,style:{...e.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function f(e){return e?"checked":"unchecked"}var v=e.i(47163);function y({className:e,...s}){return(0,t.jsx)(p,{"data-slot":"switch",className:(0,v.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:(0,t.jsx)(b,{"data-slot":"switch-thumb",className:"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"})})}e.s(["Switch",()=>y],19036)},51737,e=>{"use strict";let t=(0,e.i(75254).default)("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);e.s(["ShieldAlert",()=>t],51737)},33549,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(77395),r=e.i(70065),l=e.i(67881),i=e.i(23750),n=e.i(94179),c=e.i(19036),d=e.i(10708),o=e.i(30374),h=e.i(62870),x=e.i(47627),u=e.i(81418),m=e.i(51737),p=e.i(45423),j=e.i(7233),b=e.i(92930),g=e.i(27612),f=e.i(95468);let v=[{id:"1",name:"费用预算刚性控制",type:"hard",scope:"全公司",dimension:"科目",threshold:100,enabled:!0,description:"费用类科目超预算时禁止提交报销申请"},{id:"2",name:"差旅费柔性控制",type:"soft",scope:"销售部",dimension:"科目",threshold:120,enabled:!0,description:"差旅费超预算120%时需要额外审批"},{id:"3",name:"季度预算预警",type:"warning",scope:"全公司",dimension:"时间",threshold:80,enabled:!0,description:"季度预算执行率达到80%时发送预警通知"},{id:"4",name:"项目预算控制",type:"hard",scope:"研发部",dimension:"项目",threshold:100,enabled:!1,description:"项目预算超支时禁止新增费用"}];function y(){let[e,y]=(0,s.useState)(v),[N,w]=(0,s.useState)(!1);return(0,t.jsx)(a.MainLayout,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"控制策略配置"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"定义预算控制规则和预警策略"})]}),(0,t.jsxs)(o.Dialog,{open:N,onOpenChange:w,children:[(0,t.jsx)(o.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(l.Button,{className:"bg-primary hover:bg-primary/90",children:[(0,t.jsx)(j.Plus,{className:"w-4 h-4 mr-2"}),"新增策略"]})}),(0,t.jsxs)(o.DialogContent,{className:"max-w-lg",children:[(0,t.jsx)(o.DialogHeader,{children:(0,t.jsx)(o.DialogTitle,{children:"新增控制策略"})}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.Label,{children:"策略名称"}),(0,t.jsx)(i.Input,{placeholder:"请输入策略名称"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.Label,{children:"控制类型"}),(0,t.jsxs)(h.Select,{children:[(0,t.jsx)(h.SelectTrigger,{children:(0,t.jsx)(h.SelectValue,{placeholder:"选择控制类型"})}),(0,t.jsxs)(h.SelectContent,{children:[(0,t.jsx)(h.SelectItem,{value:"hard",children:"刚性控制（超预算禁止）"}),(0,t.jsx)(h.SelectItem,{value:"soft",children:"柔性控制（超预算提示）"}),(0,t.jsx)(h.SelectItem,{value:"warning",children:"预警提醒"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.Label,{children:"适用范围"}),(0,t.jsxs)(h.Select,{children:[(0,t.jsx)(h.SelectTrigger,{children:(0,t.jsx)(h.SelectValue,{placeholder:"选择适用范围"})}),(0,t.jsxs)(h.SelectContent,{children:[(0,t.jsx)(h.SelectItem,{value:"all",children:"全公司"}),(0,t.jsx)(h.SelectItem,{value:"research",children:"研发部"}),(0,t.jsx)(h.SelectItem,{value:"marketing",children:"市场部"}),(0,t.jsx)(h.SelectItem,{value:"sales",children:"销售部"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.Label,{children:"控制维度"}),(0,t.jsxs)(h.Select,{children:[(0,t.jsx)(h.SelectTrigger,{children:(0,t.jsx)(h.SelectValue,{placeholder:"选择控制维度"})}),(0,t.jsxs)(h.SelectContent,{children:[(0,t.jsx)(h.SelectItem,{value:"subject",children:"科目"}),(0,t.jsx)(h.SelectItem,{value:"project",children:"项目"}),(0,t.jsx)(h.SelectItem,{value:"time",children:"时间"}),(0,t.jsx)(h.SelectItem,{value:"total",children:"总额"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.Label,{children:"阈值 (%)"}),(0,t.jsx)(i.Input,{type:"number",placeholder:"100"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.Label,{children:"策略说明"}),(0,t.jsx)(i.Input,{placeholder:"请输入策略说明"})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,t.jsx)(l.Button,{variant:"outline",className:"flex-1 bg-transparent",onClick:()=>w(!1),children:"取消"}),(0,t.jsx)(l.Button,{className:"flex-1 bg-primary hover:bg-primary/90",onClick:()=>w(!1),children:"确定"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsx)(r.Card,{children:(0,t.jsxs)(r.CardContent,{className:"p-4 flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-xl bg-destructive/10 flex items-center justify-center",children:(0,t.jsx)(u.ShieldCheck,{className:"w-6 h-6 text-destructive"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"刚性控制"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:e.filter(e=>"hard"===e.type&&e.enabled).length})]})]})}),(0,t.jsx)(r.Card,{children:(0,t.jsxs)(r.CardContent,{className:"p-4 flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-xl bg-warning/10 flex items-center justify-center",children:(0,t.jsx)(m.ShieldAlert,{className:"w-6 h-6 text-warning"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"柔性控制"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:e.filter(e=>"soft"===e.type&&e.enabled).length})]})]})}),(0,t.jsx)(r.Card,{children:(0,t.jsxs)(r.CardContent,{className:"p-4 flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:(0,t.jsx)(p.Bell,{className:"w-6 h-6 text-primary"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"预警规则"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:e.filter(e=>"warning"===e.type&&e.enabled).length})]})]})}),(0,t.jsx)(r.Card,{children:(0,t.jsxs)(r.CardContent,{className:"p-4 flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-xl bg-success/10 flex items-center justify-center",children:(0,t.jsx)(f.CheckCircle2,{className:"w-6 h-6 text-success"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"已启用策略"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:e.filter(e=>e.enabled).length})]})]})})]}),(0,t.jsxs)(r.Card,{children:[(0,t.jsx)(r.CardHeader,{className:"pb-3",children:(0,t.jsx)(r.CardTitle,{className:"text-base font-medium",children:"策略列表"})}),(0,t.jsx)(r.CardContent,{children:(0,t.jsxs)(x.Table,{children:[(0,t.jsx)(x.TableHeader,{children:(0,t.jsxs)(x.TableRow,{children:[(0,t.jsx)(x.TableHead,{children:"策略名称"}),(0,t.jsx)(x.TableHead,{children:"控制类型"}),(0,t.jsx)(x.TableHead,{children:"适用范围"}),(0,t.jsx)(x.TableHead,{children:"控制维度"}),(0,t.jsx)(x.TableHead,{className:"text-center",children:"阈值"}),(0,t.jsx)(x.TableHead,{className:"text-center",children:"状态"}),(0,t.jsx)(x.TableHead,{className:"text-right",children:"操作"})]})}),(0,t.jsx)(x.TableBody,{children:e.map(e=>(0,t.jsxs)(x.TableRow,{children:[(0,t.jsx)(x.TableCell,{children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${"hard"===e.type?"bg-destructive/10 text-destructive":"soft"===e.type?"bg-warning/10 text-warning":"bg-primary/10 text-primary"}`,children:(e=>{switch(e){case"hard":return(0,t.jsx)(u.ShieldCheck,{className:"w-5 h-5"});case"soft":return(0,t.jsx)(m.ShieldAlert,{className:"w-5 h-5"});case"warning":return(0,t.jsx)(p.Bell,{className:"w-5 h-5"});default:return null}})(e.type)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description})]})]})}),(0,t.jsx)(x.TableCell,{children:(e=>{switch(e){case"hard":return(0,t.jsxs)(n.Badge,{className:"bg-destructive/20 text-destructive",children:[(0,t.jsx)(u.ShieldCheck,{className:"w-3 h-3 mr-1"}),"刚性控制"]});case"soft":return(0,t.jsxs)(n.Badge,{className:"bg-warning/20 text-warning",children:[(0,t.jsx)(m.ShieldAlert,{className:"w-3 h-3 mr-1"}),"柔性控制"]});case"warning":return(0,t.jsxs)(n.Badge,{className:"bg-primary/20 text-primary",children:[(0,t.jsx)(p.Bell,{className:"w-3 h-3 mr-1"}),"预警提醒"]});default:return null}})(e.type)}),(0,t.jsx)(x.TableCell,{children:e.scope}),(0,t.jsx)(x.TableCell,{children:e.dimension}),(0,t.jsxs)(x.TableCell,{className:"text-center font-mono",children:[e.threshold,"%"]}),(0,t.jsx)(x.TableCell,{className:"text-center",children:(0,t.jsx)(c.Switch,{checked:e.enabled,onCheckedChange:()=>{var t;return t=e.id,void y(e=>e.map(e=>e.id===t?{...e,enabled:!e.enabled}:e))}})}),(0,t.jsx)(x.TableCell,{className:"text-right",children:(0,t.jsxs)("div",{className:"flex justify-end gap-1",children:[(0,t.jsx)(l.Button,{variant:"ghost",size:"icon",children:(0,t.jsx)(b.Edit2,{className:"w-4 h-4"})}),(0,t.jsx)(l.Button,{variant:"ghost",size:"icon",className:"text-destructive",children:(0,t.jsx)(g.Trash2,{className:"w-4 h-4"})})]})})]},e.id))})]})})]})]})})}e.s(["default",()=>y])}]);