(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,10708,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(48425),a=s.forwardRef((e,s)=>(0,t.jsx)(r.Primitive.label,{...e,ref:s,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));a.displayName="Label";var l=e.i(47163);function n({className:e,...s}){return(0,t.jsx)(a,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...s})}e.s(["Label",()=>n],10708)},95468,e=>{"use strict";let t=(0,e.i(75254).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},33525,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},94179,e=>{"use strict";var t=e.i(43476),s=e.i(91918),r=e.i(25913),a=e.i(47163);let l=(0,r.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:r,asChild:n=!1,...i}){let d=n?s.Slot:"span";return(0,t.jsx)(d,{"data-slot":"badge",className:(0,a.cn)(l({variant:r}),e),...i})}e.s(["Badge",()=>n])},47627,e=>{"use strict";var t=e.i(43476),s=e.i(47163);function r({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,s.cn)("w-full caption-bottom text-sm",e),...r})})}function a({className:e,...r}){return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,s.cn)("[&_tr]:border-b",e),...r})}function l({className:e,...r}){return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,s.cn)("[&_tr:last-child]:border-0",e),...r})}function n({className:e,...r}){return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,s.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...r})}function i({className:e,...r}){return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,s.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r})}function d({className:e,...r}){return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,s.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r})}e.s(["Table",()=>r,"TableBody",()=>l,"TableCell",()=>d,"TableHead",()=>i,"TableHeader",()=>a,"TableRow",()=>n])},86536,e=>{"use strict";let t=(0,e.i(75254).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},40160,e=>{"use strict";let t=(0,e.i(75254).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);e.s(["Download",()=>t],40160)},19036,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(81140),a=e.i(20783),l=e.i(30030),n=e.i(69340),i=e.i(99682),d=e.i(35804),c=e.i(48425),o="Switch",[x,u]=(0,l.createContextScope)(o),[m,h]=x(o),p=s.forwardRef((e,l)=>{let{__scopeSwitch:i,name:d,checked:o,defaultChecked:x,required:u,disabled:h,value:p="on",onCheckedChange:b,form:g,...v}=e,[y,N]=s.useState(null),w=(0,a.useComposedRefs)(l,e=>N(e)),C=s.useRef(!1),k=!y||g||!!y.closest("form"),[T=!1,S]=(0,n.useControllableState)({prop:o,defaultProp:x,onChange:b});return(0,t.jsxs)(m,{scope:i,checked:T,disabled:h,children:[(0,t.jsx)(c.Primitive.button,{type:"button",role:"switch","aria-checked":T,"aria-required":u,"data-state":f(T),"data-disabled":h?"":void 0,disabled:h,value:p,...v,ref:w,onClick:(0,r.composeEventHandlers)(e.onClick,e=>{S(e=>!e),k&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),k&&(0,t.jsx)(j,{control:y,bubbles:!C.current,name:d,value:p,checked:T,required:u,disabled:h,form:g,style:{transform:"translateX(-100%)"}})]})});p.displayName=o;var b="SwitchThumb",g=s.forwardRef((e,s)=>{let{__scopeSwitch:r,...a}=e,l=h(b,r);return(0,t.jsx)(c.Primitive.span,{"data-state":f(l.checked),"data-disabled":l.disabled?"":void 0,...a,ref:s})});g.displayName=b;var j=e=>{let{control:r,checked:a,bubbles:l=!0,...n}=e,c=s.useRef(null),o=(0,i.usePrevious)(a),x=(0,d.useSize)(r);return s.useEffect(()=>{let e=c.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==a&&t){let s=new Event("click",{bubbles:l});t.call(e,a),e.dispatchEvent(s)}},[o,a,l]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...n,tabIndex:-1,ref:c,style:{...e.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function f(e){return e?"checked":"unchecked"}var v=e.i(47163);function y({className:e,...s}){return(0,t.jsx)(p,{"data-slot":"switch",className:(0,v.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:(0,t.jsx)(g,{"data-slot":"switch-thumb",className:"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"})})}e.s(["Switch",()=>y],19036)},21506,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(77395),a=e.i(70065),l=e.i(87336),n=e.i(94179),i=e.i(67881),d=e.i(23750),c=e.i(62870),o=e.i(30374),x=e.i(47627),u=e.i(19036),m=e.i(10708),h=e.i(21218),p=e.i(78894),b=e.i(95468),g=e.i(55436),j=e.i(45423);let f=(0,e.i(75254).default)("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var v=e.i(86536),y=e.i(25652),N=e.i(35408),w=e.i(39616),C=e.i(16715),k=e.i(40160),T=e.i(29228),S=e.i(55706),O=e.i(85183),E=e.i(93230),D=e.i(72526),P=e.i(34239),B=e.i(31195),A=e.i(59559),I=e.i(7670),M=e.i(97865),L=e.i(494),R=e.i(94395),H=e.i(44171),z=e.i(46710),W=e.i(31725),K=e.i(27241),F=e.i(61764),V=e.i(75337),_=e.i(89763),q=e.i(43404),U=e.i(51883),X=e.i(29601),$=e.i(18457),Y=e.i(22075);function Z(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function G(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(s),!0).forEach(function(t){var r,a,l;r=e,a=t,l=s[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in r?Object.defineProperty(r,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[a]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Z(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function J(){return(J=Object.assign.bind()).apply(null,arguments)}function Q(e){var t=(0,K.useAppDispatch)();return(0,s.useEffect)(()=>(t((0,W.addLine)(e)),()=>{t((0,W.removeLine)(e))})),null}function ee(e){var{xAxisId:t,yAxisId:r,shape:a,className:l,ifOverflow:n}=e,i=(0,V.useIsPanorama)(),d=(0,_.useClipPathId)(),c=(0,K.useAppSelector)(e=>(0,F.selectXAxisSettings)(e,t)),o=(0,K.useAppSelector)(e=>(0,F.selectYAxisSettings)(e,r)),x=(0,K.useAppSelector)(e=>(0,F.selectAxisScale)(e,"xAxis",t,i)),u=(0,K.useAppSelector)(e=>(0,F.selectAxisScale)(e,"yAxis",r,i)),m=(0,z.useViewBox)();if(!d||!m||null==c||null==o||null==x||null==u)return null;var h=((e,t,s,r,a,l)=>{var n,{x:i,y:d,segment:c,ifOverflow:o}=l,x=(0,R.isNumOrStr)(i);return(0,R.isNumOrStr)(d)?((e,t,s,r,a,l)=>{var{x:n,width:i}=l,d=a.y.apply(e,{position:s});if((0,R.isNan)(d)||"discard"===t&&!a.y.isInRange(d))return null;var c=[{x:n+i,y:d},{x:n,y:d}];return"left"===r?c.reverse():c})(d,o,s,a,e,t):x?((e,t,s,r,a,l)=>{var{y:n,height:i}=l,d=a.x.apply(e,{position:s});if((0,R.isNan)(d)||"discard"===t&&!a.x.isInRange(d))return null;var c=[{x:d,y:n+i},{x:d,y:n}];return"top"===r?c.reverse():c})(i,o,s,r,e,t):null!=c&&2===c.length?(n=c.map(t=>e.apply(t,{position:s})),"discard"===o&&n.some(t=>!e.isInRange(t))?null:n):null})((0,H.createLabeledScales)({x:x,y:u}),m,e.position,c.orientation,o.orientation,e);if(!h)return null;var[{x:p,y:b},{x:g,y:j}]=h,f=G(G({clipPath:"hidden"===n?"url(#".concat(d,")"):void 0},(0,q.svgPropertiesAndEvents)(e)),{},{x1:p,y1:b,x2:g,y2:j}),v=(0,H.rectWithCoords)({x1:p,y1:b,x2:g,y2:j});return s.createElement(X.ZIndexLayer,{zIndex:e.zIndex},s.createElement(M.Layer,{className:(0,I.clsx)("recharts-reference-line",l)},((e,t)=>{var r;if(s.isValidElement(e))r=s.cloneElement(e,t);else if("function"==typeof e)r=e(t);else{if(!(0,Y.isWellBehavedNumber)(t.x1)||!(0,Y.isWellBehavedNumber)(t.y1)||!(0,Y.isWellBehavedNumber)(t.x2)||!(0,Y.isWellBehavedNumber)(t.y2))return null;r=s.createElement("line",J({},t,{className:"recharts-reference-line-line"}))}return r})(a,f),s.createElement(L.CartesianLabelContextProvider,J({},v,{lowerWidth:v.width,upperWidth:v.width}),s.createElement(L.CartesianLabelFromLabelProp,{label:e.label}),e.children)))}var et={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:$.DefaultZIndexes.line};function es(e){var t=(0,U.resolveDefaultProps)(e,et);return s.createElement(s.Fragment,null,s.createElement(Q,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),s.createElement(ee,t))}es.displayName="ReferenceLine";let er=[{id:"1",department:"研发部",budget:5e3,used:4200,rate:84,trend:"stable",lastMonth:82,alertEnabled:!0,alertThreshold:90},{id:"2",department:"市场部",budget:3e3,used:3200,rate:107,trend:"up",lastMonth:98,alertEnabled:!0,alertThreshold:90},{id:"3",department:"销售部",budget:4500,used:3800,rate:84,trend:"stable",lastMonth:80,alertEnabled:!0,alertThreshold:90},{id:"4",department:"行政部",budget:2e3,used:1850,rate:93,trend:"up",lastMonth:88,alertEnabled:!0,alertThreshold:90},{id:"5",department:"人力部",budget:1500,used:1380,rate:92,trend:"stable",lastMonth:90,alertEnabled:!1,alertThreshold:90},{id:"6",department:"财务部",budget:800,used:750,rate:94,trend:"down",lastMonth:96,alertEnabled:!0,alertThreshold:90}],ea=[{month:"7月",研发部:70,市场部:72,销售部:68,行政部:75},{month:"8月",研发部:75,市场部:78,销售部:72,行政部:80},{month:"9月",研发部:78,市场部:85,销售部:76,行政部:82},{month:"10月",研发部:80,市场部:92,销售部:78,行政部:85},{month:"11月",研发部:82,市场部:98,销售部:80,行政部:88},{month:"12月",研发部:84,市场部:107,销售部:84,行政部:93}],el=[{time:"2025-12-03 10:30",department:"市场部",type:"超支预警",message:"预算执行率已超过100%，当前107%",status:"unread"},{time:"2025-12-02 16:45",department:"行政部",type:"临界预警",message:"预算执行率已达93%，接近预警阈值",status:"read"},{time:"2025-12-01 09:15",department:"财务部",type:"临界预警",message:"预算执行率已达94%，接近预警阈值",status:"read"},{time:"2025-11-28 14:20",department:"市场部",type:"临界预警",message:"预算执行率已达98%，接近预警阈值",status:"read"}];function en(){let[e,I]=(0,s.useState)(er),[M,L]=(0,s.useState)(""),[R,H]=(0,s.useState)("all"),[z,W]=(0,s.useState)(!1),[K,F]=(0,s.useState)(!1),[V,_]=(0,s.useState)(!1),[q,U]=(0,s.useState)(null),X=e.filter(e=>{let t=e.department.includes(M),s="all"===R||"warning"===R&&e.rate>100||"critical"===R&&e.rate>90&&e.rate<=100||"normal"===R&&e.rate<=90;return t&&s}),$=e.filter(e=>e.rate>100).length,Y=e.filter(e=>e.rate>90&&e.rate<=100).length,Z=e.filter(e=>e.rate<=90).length;return(0,t.jsx)(r.MainLayout,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"执行监控"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"实时监控预算执行情况，红绿灯预警"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(i.Button,{variant:"outline",size:"sm",children:[(0,t.jsx)(C.RefreshCw,{className:"w-4 h-4 mr-2"}),"刷新"]}),(0,t.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:()=>_(!0),children:[(0,t.jsx)(j.Bell,{className:"w-4 h-4 mr-2"}),"预警记录",el.filter(e=>"unread"===e.status).length>0&&(0,t.jsx)(n.Badge,{className:"ml-2 bg-destructive",children:el.filter(e=>"unread"===e.status).length})]}),(0,t.jsxs)(i.Button,{variant:"outline",size:"sm",children:[(0,t.jsx)(k.Download,{className:"w-4 h-4 mr-2"}),"导出"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsx)(a.Card,{children:(0,t.jsxs)(a.CardContent,{className:"p-4 flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:(0,t.jsx)(h.Activity,{className:"w-6 h-6 text-primary"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"监控单位"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:e.length})]})]})}),(0,t.jsx)(a.Card,{children:(0,t.jsxs)(a.CardContent,{className:"p-4 flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-xl bg-success/10 flex items-center justify-center",children:(0,t.jsx)(b.CheckCircle2,{className:"w-6 h-6 text-success"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"正常"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-success",children:Z})]})]})}),(0,t.jsx)(a.Card,{children:(0,t.jsxs)(a.CardContent,{className:"p-4 flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-xl bg-warning/10 flex items-center justify-center",children:(0,t.jsx)(p.AlertTriangle,{className:"w-6 h-6 text-warning"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"临界预警"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-warning",children:Y})]})]})}),(0,t.jsx)(a.Card,{className:"border-destructive/50",children:(0,t.jsxs)(a.CardContent,{className:"p-4 flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-xl bg-destructive/10 flex items-center justify-center",children:(0,t.jsx)(p.AlertTriangle,{className:"w-6 h-6 text-destructive"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"超支预警"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-destructive",children:$})]})]})})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{className:"pb-2",children:(0,t.jsx)(a.CardTitle,{className:"text-base font-medium",children:"执行率趋势"})}),(0,t.jsx)(a.CardContent,{children:(0,t.jsx)("div",{className:"h-[300px]",children:(0,t.jsx)(B.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(T.LineChart,{data:ea,children:[(0,t.jsx)(D.CartesianGrid,{strokeDasharray:"3 3",stroke:"var(--border)"}),(0,t.jsx)(O.XAxis,{dataKey:"month",stroke:"var(--muted-foreground)",fontSize:12}),(0,t.jsx)(E.YAxis,{stroke:"var(--muted-foreground)",fontSize:12,domain:[0,120]}),(0,t.jsx)(P.Tooltip,{contentStyle:{backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"8px"}}),(0,t.jsx)(A.Legend,{}),(0,t.jsx)(es,{y:100,stroke:"#ef4444",strokeDasharray:"5 5",label:{value:"100%",fill:"#ef4444"}}),(0,t.jsx)(es,{y:90,stroke:"#eab308",strokeDasharray:"5 5",label:{value:"90%",fill:"#eab308"}}),(0,t.jsx)(S.Line,{type:"monotone",dataKey:"研发部",stroke:"#a69f49",strokeWidth:2}),(0,t.jsx)(S.Line,{type:"monotone",dataKey:"市场部",stroke:"#ef4444",strokeWidth:2}),(0,t.jsx)(S.Line,{type:"monotone",dataKey:"销售部",stroke:"#49839f",strokeWidth:2}),(0,t.jsx)(S.Line,{type:"monotone",dataKey:"行政部",stroke:"#9f4983",strokeWidth:2})]})})})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,t.jsx)(g.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,t.jsx)(d.Input,{placeholder:"搜索部门...",className:"pl-9",value:M,onChange:e=>L(e.target.value)})]}),(0,t.jsxs)(c.Select,{value:R,onValueChange:H,children:[(0,t.jsx)(c.SelectTrigger,{className:"w-32",children:(0,t.jsx)(c.SelectValue,{placeholder:"状态筛选"})}),(0,t.jsxs)(c.SelectContent,{children:[(0,t.jsx)(c.SelectItem,{value:"all",children:"全部状态"}),(0,t.jsx)(c.SelectItem,{value:"warning",children:"超支预警"}),(0,t.jsx)(c.SelectItem,{value:"critical",children:"临界预警"}),(0,t.jsx)(c.SelectItem,{value:"normal",children:"正常"})]})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:X.map(e=>(0,t.jsx)(a.Card,{className:e.rate>100?"border-destructive/50":e.rate>90?"border-warning/50":"",children:(0,t.jsxs)(a.CardContent,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h3",{className:"font-medium",children:e.department}),e.alertEnabled?(0,t.jsx)(j.Bell,{className:"w-4 h-4 text-primary"}):(0,t.jsx)(f,{className:"w-4 h-4 text-muted-foreground"})]}),(0,t.jsx)("div",{className:"flex items-center gap-1",children:(0,t.jsx)(n.Badge,{className:e.rate>100?"bg-destructive/20 text-destructive":e.rate>90?"bg-warning/20 text-warning":"bg-success/20 text-success",children:e.rate>100?"超支":e.rate>90?"临界":"正常"})})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"执行率"}),(0,t.jsxs)("span",{className:"font-bold flex items-center gap-1",children:[e.rate,"%","up"===e.trend&&(0,t.jsx)(y.TrendingUp,{className:"w-4 h-4 text-destructive"}),"down"===e.trend&&(0,t.jsx)(N.TrendingDown,{className:"w-4 h-4 text-success"})]})]}),(0,t.jsx)(l.Progress,{value:Math.min(e.rate,100),className:`h-2 ${e.rate>100?"[&>div]:bg-destructive":e.rate>90?"[&>div]:bg-warning":"[&>div]:bg-success"}`}),(0,t.jsxs)("div",{className:"flex justify-between text-sm text-muted-foreground",children:[(0,t.jsxs)("span",{children:["已用: ¥",e.used,"万"]}),(0,t.jsxs)("span",{children:["预算: ¥",e.budget,"万"]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,t.jsxs)("span",{children:["上月: ",e.lastMonth,"%"]}),(0,t.jsxs)("span",{children:["预警阈值: ",e.alertThreshold,"%"]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,t.jsxs)(i.Button,{variant:"outline",size:"sm",className:"flex-1 bg-transparent",onClick:()=>{U(e),W(!0)},children:[(0,t.jsx)(v.Eye,{className:"w-4 h-4 mr-1"}),"详情"]}),(0,t.jsxs)(i.Button,{variant:"outline",size:"sm",className:"flex-1 bg-transparent",onClick:()=>{U(e),F(!0)},children:[(0,t.jsx)(w.Settings,{className:"w-4 h-4 mr-1"}),"设置"]})]})]})},e.id))}),(0,t.jsx)(o.Dialog,{open:z,onOpenChange:W,children:(0,t.jsxs)(o.DialogContent,{className:"max-w-lg",children:[(0,t.jsx)(o.DialogHeader,{children:(0,t.jsxs)(o.DialogTitle,{children:[q?.department," - 执行详情"]})}),q&&(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(a.Card,{children:(0,t.jsxs)(a.CardContent,{className:"p-4 text-center",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"预算金额"}),(0,t.jsxs)("p",{className:"text-xl font-bold",children:["¥",q.budget,"万"]})]})}),(0,t.jsx)(a.Card,{children:(0,t.jsxs)(a.CardContent,{className:"p-4 text-center",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"已使用"}),(0,t.jsxs)("p",{className:"text-xl font-bold",children:["¥",q.used,"万"]})]})}),(0,t.jsx)(a.Card,{children:(0,t.jsxs)(a.CardContent,{className:"p-4 text-center",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"剩余额度"}),(0,t.jsxs)("p",{className:"text-xl font-bold",children:["¥",q.budget-q.used,"万"]})]})}),(0,t.jsx)(a.Card,{className:q.rate>100?"border-destructive/50":"",children:(0,t.jsxs)(a.CardContent,{className:"p-4 text-center",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"执行率"}),(0,t.jsxs)("p",{className:`text-xl font-bold ${q.rate>100?"text-destructive":""}`,children:[q.rate,"%"]})]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"执行进度"}),(0,t.jsx)(l.Progress,{value:Math.min(q.rate,100),className:`h-3 ${q.rate>100?"[&>div]:bg-destructive":"[&>div]:bg-primary"}`})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsxs)("span",{className:"text-muted-foreground",children:["上月执行率: ",q.lastMonth,"%"]}),(0,t.jsxs)("span",{className:"text-muted-foreground",children:["环比:",(0,t.jsxs)("span",{className:q.rate>q.lastMonth?"text-destructive":"text-success",children:[q.rate>q.lastMonth?"+":"",(q.rate-q.lastMonth).toFixed(1),"%"]})]})]})]}),(0,t.jsx)(o.DialogFooter,{children:(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>W(!1),children:"关闭"})})]})}),(0,t.jsx)(o.Dialog,{open:K,onOpenChange:F,children:(0,t.jsxs)(o.DialogContent,{children:[(0,t.jsx)(o.DialogHeader,{children:(0,t.jsxs)(o.DialogTitle,{children:[q?.department," - 预警设置"]})}),q&&(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(m.Label,{children:"启用预警"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"当执行率达到阈值时发送预警通知"})]}),(0,t.jsx)(u.Switch,{checked:q.alertEnabled,onCheckedChange:()=>{var e;return e=q.id,void I(t=>t.map(t=>t.id===e?{...t,alertEnabled:!t.alertEnabled}:t))}})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(m.Label,{children:"预警阈值 (%)"}),(0,t.jsx)(d.Input,{type:"number",value:q.alertThreshold,onChange:e=>{var t;return t=Number(e.target.value),void(q&&I(e=>e.map(e=>e.id===q.id?{...e,alertThreshold:t}:e)))},disabled:!q.alertEnabled}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"当执行率达到此阈值时触发预警"})]})]}),(0,t.jsxs)(o.DialogFooter,{children:[(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>F(!1),children:"取消"}),(0,t.jsx)(i.Button,{className:"bg-primary hover:bg-primary/90",onClick:()=>F(!1),children:"保存设置"})]})]})}),(0,t.jsx)(o.Dialog,{open:V,onOpenChange:_,children:(0,t.jsxs)(o.DialogContent,{className:"max-w-2xl",children:[(0,t.jsx)(o.DialogHeader,{children:(0,t.jsx)(o.DialogTitle,{children:"预警记录"})}),(0,t.jsx)("div",{className:"py-4",children:(0,t.jsxs)(x.Table,{children:[(0,t.jsx)(x.TableHeader,{children:(0,t.jsxs)(x.TableRow,{children:[(0,t.jsx)(x.TableHead,{children:"时间"}),(0,t.jsx)(x.TableHead,{children:"部门"}),(0,t.jsx)(x.TableHead,{children:"预警类型"}),(0,t.jsx)(x.TableHead,{children:"预警内容"}),(0,t.jsx)(x.TableHead,{className:"text-center",children:"状态"})]})}),(0,t.jsx)(x.TableBody,{children:el.map((e,s)=>(0,t.jsxs)(x.TableRow,{className:"unread"===e.status?"bg-destructive/5":"",children:[(0,t.jsx)(x.TableCell,{className:"text-muted-foreground",children:e.time}),(0,t.jsx)(x.TableCell,{className:"font-medium",children:e.department}),(0,t.jsx)(x.TableCell,{children:(0,t.jsx)(n.Badge,{className:"超支预警"===e.type?"bg-destructive/20 text-destructive":"bg-warning/20 text-warning",children:e.type})}),(0,t.jsx)(x.TableCell,{className:"text-sm",children:e.message}),(0,t.jsx)(x.TableCell,{className:"text-center",children:"unread"===e.status?(0,t.jsx)(n.Badge,{className:"bg-primary/20 text-primary",children:"未读"}):(0,t.jsx)(n.Badge,{variant:"outline",children:"已读"})})]},s))})]})}),(0,t.jsx)(o.DialogFooter,{children:(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>_(!1),children:"关闭"})})]})})]})})}e.s(["default",()=>en],21506)}]);